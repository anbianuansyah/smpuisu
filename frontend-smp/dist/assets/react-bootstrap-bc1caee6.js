import{a as _}from"./classnames-28dc7c56.js";import{r as n,R as ie}from"./react-00390139.js";import{u as Ae,j as p,a as $e,b as le,c as Le,d as Oe,e as K,F as Pe,A as ce}from"./@restart-0e697f83.js";import{u as _e}from"./uncontrollable-a4794334.js";import{t as Be,s as Fe,c as Ue}from"./dom-helpers-3fb539c1.js";import{T as He}from"./react-transition-group-2b8c500a.js";import{R as Ke}from"./react-dom-9f496631.js";const We=["xxl","xl","lg","md","sm","xs"],Xe="xs",fe=n.createContext({prefixes:{},breakpoints:We,minBreakpoint:Xe});function z(t,r){const{prefixes:a}=n.useContext(fe);return t||a[r]||r}function je(){const{dir:t}=n.useContext(fe);return t==="rtl"}function ue(t,r){const a=Fe(t,r)||"",o=a.indexOf("ms")===-1?1e3:1;return parseFloat(a)*o}function Ve(t,r){const a=ue(t,"transitionDuration"),o=ue(t,"transitionDelay"),f=Be(t,l=>{l.target===t&&(f(),r(l))},a+o)}function ze(t){t.offsetHeight}function qe(t){return t&&"setState"in t?Ke.findDOMNode(t):t??null}const Ge=ie.forwardRef(({onEnter:t,onEntering:r,onEntered:a,onExit:o,onExiting:f,onExited:l,addEndListener:D,children:b,childRef:E,...y},d)=>{const c=n.useRef(null),g=Ae(c,E),R=h=>{g(qe(h))},u=h=>I=>{h&&c.current&&h(c.current,I)},B=n.useCallback(u(t),[t]),$=n.useCallback(u(r),[r]),N=n.useCallback(u(a),[a]),L=n.useCallback(u(o),[o]),O=n.useCallback(u(f),[f]),k=n.useCallback(u(l),[l]),F=n.useCallback(u(D),[D]);return p(He,{ref:d,...y,onEnter:B,onEntered:N,onEntering:$,onExit:L,onExited:k,onExiting:O,addEndListener:F,nodeRef:c,children:typeof b=="function"?(h,I)=>b(h,{...I,ref:R}):ie.cloneElement(b,{ref:R})})}),Je=Ge,Qe=t=>t[0].toUpperCase()+Ue(t).slice(1);function Ye(t,{displayName:r=Qe(t),Component:a,defaultProps:o}={}){const f=n.forwardRef(({className:l,bsPrefix:D,as:b=a||"div",...E},y)=>{const d={...o,...E},c=z(D,t);return p(b,{ref:y,className:_(l,c),...d})});return f.displayName=r,f}const Ze=Ye("carousel-caption"),pe=n.forwardRef(({as:t="div",bsPrefix:r,className:a,...o},f)=>{const l=_(a,z(r,"carousel-item"));return p(t,{ref:f,...o,className:l})});pe.displayName="CarouselItem";const en=pe;function de(t,r){let a=0;return n.Children.map(t,o=>n.isValidElement(o)?r(o,a++):o)}function nn(t,r){let a=0;n.Children.forEach(t,o=>{n.isValidElement(o)&&r(o,a++)})}const tn=40;function sn(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const r=getComputedStyle(t);return r.display!=="none"&&r.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const he=n.forwardRef(({defaultActiveIndex:t=0,...r},a)=>{const{as:o="div",bsPrefix:f,slide:l=!0,fade:D=!1,controls:b=!0,indicators:E=!0,indicatorLabels:y=[],activeIndex:d,onSelect:c,onSlide:g,onSlid:R,interval:u=5e3,keyboard:B=!0,onKeyDown:$,pause:N="hover",onMouseOver:L,onMouseOut:O,wrap:k=!0,touch:F=!0,onTouchStart:h,onTouchMove:I,onTouchEnd:W,prevIcon:me=p("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:q="Previous",nextIcon:ve=p("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:G="Next",variant:J,className:Ce,children:X,...xe}=_e({defaultActiveIndex:t,...r},{activeIndex:"onSelect"}),C=z(f,"carousel"),M=je(),w=n.useRef(null),[Q,Y]=n.useState("next"),[Re,U]=n.useState(!1),[A,Z]=n.useState(!1),[i,Ne]=n.useState(d||0);n.useEffect(()=>{!A&&d!==i&&(w.current?Y(w.current):Y((d||0)>i?"next":"prev"),l&&Z(!0),Ne(d||0))},[d,A,i,l]),n.useEffect(()=>{w.current&&(w.current=null)});let S=0,ee;nn(X,(e,s)=>{++S,s===d&&(ee=e.props.interval)});const ne=$e(ee),m=n.useCallback(e=>{if(A)return;let s=i-1;if(s<0){if(!k)return;s=S-1}w.current="prev",c==null||c(s,e)},[A,i,c,k,S]),v=le(e=>{if(A)return;let s=i+1;if(s>=S){if(!k)return;s=0}w.current="next",c==null||c(s,e)}),j=n.useRef();n.useImperativeHandle(a,()=>({element:j.current,prev:m,next:v}));const te=le(()=>{!document.hidden&&sn(j.current)&&(M?m():v())}),T=Q==="next"?"start":"end";Le(()=>{l||(g==null||g(i,T),R==null||R(i,T))},[i]);const be=`${C}-item-${Q}`,Ee=`${C}-item-${T}`,ye=n.useCallback(e=>{ze(e),g==null||g(i,T)},[g,i,T]),ge=n.useCallback(()=>{Z(!1),R==null||R(i,T)},[R,i,T]),ke=n.useCallback(e=>{if(B&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":e.preventDefault(),M?v(e):m(e);return;case"ArrowRight":e.preventDefault(),M?m(e):v(e);return}$==null||$(e)},[B,$,m,v,M]),Ie=n.useCallback(e=>{N==="hover"&&U(!0),L==null||L(e)},[N,L]),Se=n.useCallback(e=>{U(!1),O==null||O(e)},[O]),se=n.useRef(0),H=n.useRef(0),re=Oe(),Te=n.useCallback(e=>{se.current=e.touches[0].clientX,H.current=0,N==="hover"&&U(!0),h==null||h(e)},[N,h]),De=n.useCallback(e=>{e.touches&&e.touches.length>1?H.current=0:H.current=e.touches[0].clientX-se.current,I==null||I(e)},[I]),Me=n.useCallback(e=>{if(F){const s=H.current;Math.abs(s)>tn&&(s>0?m(e):v(e))}N==="hover"&&re.set(()=>{U(!1)},u||void 0),W==null||W(e)},[F,N,m,v,re,u,W]),ae=u!=null&&!Re&&!A,V=n.useRef();n.useEffect(()=>{var e,s;if(!ae)return;const x=M?m:v;return V.current=window.setInterval(document.visibilityState?te:x,(e=(s=ne.current)!=null?s:u)!=null?e:void 0),()=>{V.current!==null&&clearInterval(V.current)}},[ae,m,v,ne,u,te,M]);const oe=n.useMemo(()=>E&&Array.from({length:S},(e,s)=>x=>{c==null||c(s,x)}),[E,S,c]);return K(o,{ref:j,...xe,onKeyDown:ke,onMouseOver:Ie,onMouseOut:Se,onTouchStart:Te,onTouchMove:De,onTouchEnd:Me,className:_(Ce,C,l&&"slide",D&&`${C}-fade`,J&&`${C}-${J}`),children:[E&&p("div",{className:`${C}-indicators`,children:de(X,(e,s)=>p("button",{type:"button","data-bs-target":"","aria-label":y!=null&&y.length?y[s]:`Slide ${s+1}`,className:s===i?"active":void 0,onClick:oe?oe[s]:void 0,"aria-current":s===i},s))}),p("div",{className:`${C}-inner`,children:de(X,(e,s)=>{const x=s===i;return l?p(Je,{in:x,onEnter:x?ye:void 0,onEntered:x?ge:void 0,addEndListener:Ve,children:(P,we)=>n.cloneElement(e,{...we,className:_(e.props.className,x&&P!=="entered"&&be,(P==="entered"||P==="exiting")&&"active",(P==="entering"||P==="exiting")&&Ee)})}):n.cloneElement(e,{className:_(e.props.className,x&&"active")})})}),b&&K(Pe,{children:[(k||d!==0)&&K(ce,{className:`${C}-control-prev`,onClick:m,children:[me,q&&p("span",{className:"visually-hidden",children:q})]}),(k||d!==S-1)&&K(ce,{className:`${C}-control-next`,onClick:v,children:[ve,G&&p("span",{className:"visually-hidden",children:G})]})]})]})});he.displayName="Carousel";const fn=Object.assign(he,{Caption:Ze,Item:en});export{fn as C};
